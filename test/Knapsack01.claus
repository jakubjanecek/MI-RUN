class Knapsack {

  val capacity = 100
  val n = items.length
  
  def numberToBinary(number : Int) : Array[Boolean] = {
    val binary = new Array[Boolean](n)
    if (number == 0) return binary
    var rest = false
    var div = number
    var i = 0
    while (div > 0) {
      rest = (div % 2 == 1)
      div = div / 2
      binary(n - i - 1) = rest
      i = i + 1
    }
    return binary
  }
  
  def binaryToString(binary : Array[Boolean]) : String = {
    var string = ""
    for (i <- 0 to binary.length - 1) {
      if (binary(i)) {
        string = string + " 1" 
      } else {
        string = string + " 0" 
      }
    }
    return string
  }
  
  def solveKnapsackProblem() : Unit = {
    val p = scala.math.pow(2, n).toInt
    var bestCombination = new Array[Boolean](n)
    var maxWeight = 0
    var maxPrice = 0
    for (i <- 0 to p - 1) {
      var actualWeight = 0
      var actualPrice = 0
      val actualCombination = numberToBinary(i)
      for (j <- 0 to n - 1) {
        if (actualCombination(j)) {
          val (weight, price) = items(j)
          if (actualWeight + weight < capacity) {
            actualWeight = actualWeight + weight
            actualPrice = actualPrice + price
          }
        }
      }
      if (actualPrice > maxPrice) {
        bestCombination = actualCombination
        maxWeight = actualWeight
        maxPrice = actualPrice
      }
    }
    val result = "kombinace:" + binaryToString(bestCombination) + 
      " | vaha: " + maxWeight + " | cena: " + maxPrice
    println(result)
  }
  
  def main(args: Array[String]): Unit = {
    solveKnapsackProblem()
  }
}
